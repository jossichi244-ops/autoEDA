{
  "data_type_detection": {
    "time_series": {
      "criteria": ["datetime_index", "ordered_timestamps"],
      "enabled": true
    },
    "text": {
      "criteria": ["long_string_columns", "n_tokens_avg > 5"],
      "enabled": true
    },
    "numeric": {
      "criteria": ["float64", "int64"],
      "enabled": true
    },
    "categorical": {
      "criteria": ["object", "category"],
      "enabled": true
    }
  },
  "preprocessing": {
    "numeric": {
      "imputer": ["median", "mean", "knn"],
      "scaling": ["StandardScaler", "RobustScaler", "QuantileTransformer"],
      "outlier_handling": ["none", "winsorize", "clip"]
    },
    "categorical": {
      "imputer": ["most_frequent", "missing_category"],
      "encoding": ["OneHotEncoder", "TargetEncoder", "FrequencyEncoder"]
    },
    "text": {
      "cleaning": [
        "lowercase",
        "remove_stopwords",
        "lemmatization",
        "stemming"
      ],
      "vectorizers": ["TfidfVectorizer", "HashingVectorizer"],
      "embeddings": ["Word2Vec", "FastText", "BERT", "GPT_embeddings"],
      "topic_modeling": ["LDA", "BERTopic"]
    },
    "time_series": {
      "features": ["lag", "rolling_mean", "rolling_std", "exp_smoothing"],
      "decomposition": ["STL", "seasonal_decompose"],
      "frequency": ["daily", "weekly", "monthly"]
    },
    "target": {
      "imbalance": ["none", "smote", "adasyn", "class_weight"],
      "threshold": 0.2
    }
  },
  "feature_engineering": {
    "numeric": {
      "apply_if": "n_numeric >= 2",
      "strategies": [
        "interaction_terms",
        "polynomial_degree=2",
        "polynomial_degree=3"
      ]
    },
    "categorical": {
      "apply_if": "n_categorical >= 2",
      "strategies": ["cross_features"]
    },
    "text": {
      "apply_if": "avg_tokens > 5",
      "strategies": ["sentiment_analysis", "ner", "topic_modeling"]
    },
    "time_series": {
      "apply_if": "has_datetime_index",
      "strategies": ["lag_features", "rolling_stats", "trend", "seasonality"]
    }
  },
  "feature_selection": {
    "numeric": ["lasso", "variance_threshold", "pca"],
    "categorical": ["chi2", "mutual_info"],
    "text": ["tfidf_feature_importance", "embedding_dim_reduction"],
    "time_series": ["autocorrelation_selection", "feature_importance"]
  },

  "model_selection": {
    "problem_type": {
      "regression": [
        "LinearRegression",
        "Ridge",
        "Lasso",
        "ElasticNet",
        "RandomForestRegressor",
        "XGBRegressor",
        "LGBMRegressor",
        "SVR"
      ],
      "classification": [
        "LogisticRegression",
        "SVC",
        "DecisionTreeClassifier",
        "RandomForestClassifier",
        "XGBClassifier",
        "LGBMClassifier",
        "CatBoostClassifier",
        "MLPClassifier"
      ],
      "time_series": [
        "ARIMA",
        "SARIMA",
        "Prophet",
        "ExponentialSmoothing",
        "LSTM",
        "GRU",
        "XGBRegressor (with lag features)"
      ],
      "clustering": [
        "KMeans",
        "MiniBatchKMeans",
        "DBSCAN",
        "GaussianMixture",
        "AgglomerativeClustering",
        "HDBSCAN"
      ]
    },
    "ensemble_strategies": ["bagging", "boosting", "stacking", "voting"],
    "deep_learning": {
      "enabled": false,
      "architectures": ["MLP", "CNN", "RNN", "LSTM", "Transformer"],
      "frameworks": ["TensorFlow", "PyTorch", "Keras"]
    },
    "selection_criteria": [
      "accuracy",
      "f1_score",
      "auc_roc",
      "rmse",
      "mape",
      "silhouette_score",
      "adjusted_rand_score",
      "davies_bouldin_index"
    ],
    "auto_select": {
      "enabled": true,
      "strategy": "performance_first",
      "justification": {
        "rules": [
          {
            "condition": "problem_type == 'regression' and n_features < 10 and dataset_size < 1000",
            "selected_models": ["Ridge", "Lasso", "LinearRegression"],
            "justification": "D·ªØ li·ªáu nh·ªè v√† s·ªë chi·ªÅu th·∫•p ‚Üí ∆Øu ti√™n m√¥ h√¨nh tuy·∫øn t√≠nh (Ridge/Lasso) v√¨ ch√∫ng c√≥ regularization, gi√∫p tr√°nh overfit t·ªët h∆°n LinearRegression thu·∫ßn t√∫y."
          },
          {
            "condition": "problem_type == 'regression' and n_features < 20 and dataset_size < 5000",
            "selected_models": ["RandomForestRegressor", "SVR"],
            "justification": "D·ªØ li·ªáu v·ª´a ph·∫£i ‚Üí ∆Øu ti√™n m√¥ h√¨nh linh ho·∫°t nh∆∞ Random Forest ho·∫∑c SVR ƒë·ªÉ n·∫Øm b·∫Øt c√°c m·ªëi quan h·ªá phi tuy·∫øn m√† kh√¥ng c·∫ßn qu√° nhi·ªÅu d·ªØ li·ªáu."
          },
          {
            "condition": "problem_type == 'regression' and n_features > 50 and dataset_size > 10000",
            "selected_models": [
              "XGBRegressor",
              "LGBMRegressor",
              "CatBoostRegressor"
            ],
            "justification": "D·ªØ li·ªáu l·ªõn v√† nhi·ªÅu chi·ªÅu ‚Üí ∆Øu ti√™n m√¥ h√¨nh gradient boosting (XGBoost, LightGBM, CatBoost) v√¨ ch√∫ng x·ª≠ l√Ω t·ªët t∆∞∆°ng t√°c ph·ª©c t·∫°p gi·ªØa features, t·ªëc ƒë·ªô nhanh v√† c√≥ s·∫µn c∆° ch·∫ø ch·ªëng overfit."
          },
          {
            "condition": "problem_type == 'classification' and dataset_size < 1000",
            "selected_models": ["LogisticRegression", "SVC"],
            "justification": "D·ªØ li·ªáu nh·ªè ‚Üí ∆Øu ti√™n m√¥ h√¨nh ƒë∆°n gi·∫£n, √≠t tham s·ªë nh∆∞ Logistic Regression ho·∫∑c SVM ƒë·ªÉ tr√°nh overfit. SVM ƒë·∫∑c bi·ªát m·∫°nh v·ªõi d·ªØ li·ªáu c√≥ bi√™n r√µ r√†ng."
          },
          {
            "condition": "problem_type == 'classification' and has_imbalanced_target == true",
            "selected_models": [
              "XGBClassifier",
              "LGBMClassifier",
              "CatBoostClassifier"
            ],
            "justification": "D·ªØ li·ªáu m·∫•t c√¢n b·∫±ng ‚Üí ∆Øu ti√™n m√¥ h√¨nh tree-based (XGBoost, LightGBM, CatBoost) v√¨ ch√∫ng c√≥ tham s·ªë `class_weight` ho·∫∑c `scale_pos_weight` ƒë·ªÉ x·ª≠ l√Ω imbalance m·ªôt c√°ch t·ª± nhi√™n."
          },
          {
            "condition": "problem_type == 'classification' and interpretability_required == true",
            "selected_models": ["LogisticRegression", "DecisionTreeClassifier"],
            "justification": "Y√™u c·∫ßu gi·∫£i th√≠ch m√¥ h√¨nh ‚Üí ∆Øu ti√™n Logistic Regression (h·ªá s·ªë h·ªìi quy) ho·∫∑c Decision Tree (lu·∫≠t if-then) v√¨ ch√∫ng cung c·∫•p k·∫øt qu·∫£ d·ªÖ hi·ªÉu cho con ng∆∞·ªùi."
          },
          {
            "condition": "problem_type == 'classification' and dataset_size > 10000 and n_features > 50",
            "selected_models": [
              "XGBClassifier",
              "LGBMClassifier",
              "RandomForestClassifier"
            ],
            "justification": "D·ªØ li·ªáu l·ªõn v√† nhi·ªÅu chi·ªÅu ‚Üí ∆Øu ti√™n m√¥ h√¨nh ensemble m·∫°nh (XGBoost, LightGBM, Random Forest) v√¨ ch√∫ng c√≥ kh·∫£ nƒÉng t·ªïng qu√°t h√≥a t·ªët v√† x·ª≠ l√Ω t·ªët nhi·ªÖu."
          },
          {
            "condition": "problem_type == 'time_series' and has_seasonality == true and dataset_size < 5000",
            "selected_models": ["SARIMA", "Prophet", "ExponentialSmoothing"],
            "justification": "D·ªØ li·ªáu c√≥ t√≠nh m√πa v·ª• r√µ r√†ng v√† k√≠ch th∆∞·ªõc v·ª´a ph·∫£i ‚Üí ∆Øu ti√™n m√¥ h√¨nh th·ªëng k√™ (SARIMA, Prophet) v√¨ ch√∫ng ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát ƒë·ªÉ m√¥ h√¨nh h√≥a xu h∆∞·ªõng v√† m√πa v·ª• m·ªôt c√°ch ch√≠nh x√°c."
          },
          {
            "condition": "problem_type == 'time_series' and dataset_size > 5000 and has_lag_features == true",
            "selected_models": [
              "XGBRegressor (with lag features)",
              "LGBMRegressor (with lag features)",
              "LSTM"
            ],
            "justification": "D·ªØ li·ªáu chu·ªói th·ªùi gian l·ªõn v√† ƒë√£ ƒë∆∞·ª£c chuy·ªÉn th√†nh features d·∫°ng b·∫£ng ‚Üí C√≥ th·ªÉ s·ª≠ d·ª•ng m√¥ h√¨nh h·ªçc m√°y m·∫°nh (XGBoost, LightGBM) ho·∫∑c h·ªçc s√¢u (LSTM) ƒë·ªÉ n·∫Øm b·∫Øt c√°c m·ªëi quan h·ªá phi tuy·∫øn ph·ª©c t·∫°p v√† ph·ª• thu·ªôc d√†i h·∫°n."
          },
          {
            "condition": "problem_type == 'clustering' and n_features < 5",
            "selected_models": ["KMeans", "MiniBatchKMeans"],
            "justification": "S·ªë chi·ªÅu th·∫•p ‚Üí KMeans v√† MiniBatchKMeans ho·∫°t ƒë·ªông r·∫•t hi·ªáu qu·∫£, nhanh ch√≥ng v√† d·ªÖ hi·ªÉu. MiniBatchKMeans ph√π h·ª£p n·∫øu d·ªØ li·ªáu r·∫•t l·ªõn."
          },
          {
            "condition": "problem_type == 'clustering' and has_arbitrary_shapes == true",
            "selected_models": ["DBSCAN", "HDBSCAN"],
            "justification": "D·ªØ li·ªáu c√≥ c·ª•m h√¨nh d·∫°ng b·∫•t th∆∞·ªùng, kh√¥ng ph·∫£i h√¨nh c·∫ßu ‚Üí DBSCAN v√† HDBSCAN ph√π h·ª£p v√¨ ch√∫ng kh√¥ng gi·∫£ ƒë·ªãnh h√¨nh d·∫°ng c·ª•m, c√≥ th·ªÉ ph√°t hi·ªán c·ª•m c√≥ m·∫≠t ƒë·ªô kh√°c nhau v√† c·∫£ ƒëi·ªÉm nhi·ªÖu (outliers)."
          },
          {
            "condition": "problem_type == 'clustering' and dataset_size > 10000",
            "selected_models": ["MiniBatchKMeans", "HDBSCAN"],
            "justification": "D·ªØ li·ªáu l·ªõn ‚Üí ∆Øu ti√™n MiniBatchKMeans (phi√™n b·∫£n nhanh c·ªßa KMeans) ho·∫∑c HDBSCAN (x·ª≠ l√Ω t·ªët c·ª•m c√≥ m·∫≠t ƒë·ªô kh√°c nhau) ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu nƒÉng t√≠nh to√°n."
          },
          {
            "condition": "contains_text_features == true and deep_learning.enabled == true",
            "selected_models": ["LSTM", "Transformer"],
            "justification": "D·ªØ li·ªáu c√≥ ch·ª©a vƒÉn b·∫£n ‚Üí ∆Øu ti√™n m√¥ h√¨nh h·ªçc s√¢u (LSTM, Transformer) v√¨ ch√∫ng c√≥ kh·∫£ nƒÉng tr√≠ch xu·∫•t ƒë·∫∑c tr∆∞ng ng·ªØ nghƒ©a s√¢u, n·∫Øm b·∫Øt ng·ªØ c·∫£nh v√† th·ª© t·ª± t·ª´ trong vƒÉn b·∫£n."
          },
          {
            "condition": "contains_categorical_features == true and n_unique_categories > 100",
            "selected_models": ["CatBoost", "LightGBM"],
            "justification": "C√≥ bi·∫øn ph√¢n lo·∫°i v·ªõi cardinality cao ‚Üí ∆Øu ti√™n CatBoost ho·∫∑c LightGBM v√¨ ch√∫ng c√≥ th·ªÉ x·ª≠ l√Ω tr·ª±c ti·∫øp bi·∫øn categorical m√† kh√¥ng c·∫ßn one-hot encoding, gi√∫p tr√°nh n·ªï chi·ªÅu v√† m·∫•t m√°t th√¥ng tin."
          }
        ],
        "fallback": {
          "selected_models": ["KMeans"],
          "justification": "Kh√¥ng c√≥ ƒëi·ªÅu ki·ªán n√†o kh·ªõp ‚Üí S·ª≠ d·ª•ng K-Means l√†m m√¥ h√¨nh ph√¢n c·ª•m m·∫∑c ƒë·ªãnh v√¨ n√≥ ƒë∆°n gi·∫£n, nhanh v√† ho·∫°t ƒë·ªông t·ªët tr√™n nhi·ªÅu lo·∫°i d·ªØ li·ªáu numeric. N·∫øu b√†i to√°n l√† supervised, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông chuy·ªÉn sang RandomForest."
        }
      }
    }
  },
  "model_training": {
    "train_test_split": {
      "strategy": "random",
      "test_size": 0.2,
      "stratify": true,
      "random_state": 42
    },
    "cross_validation": {
      "enabled": true,
      "method": "k_fold",
      "n_splits": 5,
      "scoring": "auto"
    },
    "hyperparameter_tuning": {
      "enabled": true,
      "phases": [
        {
          "name": "research_phase",
          "description": "Statistical-guided Bayesian Optimization using Gaussian Process (scikit-optimize) for probabilistic rigor.",
          "tool": "scikit-optimize",
          "n_iter": 30,
          "cv_folds": 3,
          "scoring": "auto",
          "acquisition_function": "EI",
          "gp_kernel": "Matern",
          "noise": "gaussian",
          "early_stopping": false,
          "goal": "explore promising regions and estimate uncertainty"
        },
        {
          "name": "production_phase",
          "description": "Optuna for scalable, pruned, GPU-friendly fine-tuning in narrowed search space.",
          "tool": "optuna",
          "n_iter": 70,
          "cv_folds": 5,
          "scoring": "auto",
          "pruner": "MedianPruner",
          "sampler": "TPESampler",
          "use_gpu": true,
          "early_stopping": true,
          "timeout_minutes": 30,
          "goal": "exploit best regions found in research phase for maximum performance"
        }
      ],
      "statistical_guided_search": {
        "enabled": true,
        "strategy": "data_driven",
        "rules": {
          "RandomForestClassifier": {
            "n_estimators": {
              "formula": "min(200, max(50, n_samples // 10))",
              "description": "S·ªë c√¢y: t·ª∑ l·ªá thu·∫≠n v·ªõi s·ªë m·∫´u, gi·ªõi h·∫°n max 200 ƒë·ªÉ tr√°nh overfit."
            },
            "max_depth": {
              "formula": "min(15, max(3, log2(n_features) * 2))",
              "description": "ƒê·ªô s√¢u c√¢y: t·ª∑ l·ªá v·ªõi log s·ªë chi·ªÅu, tr√°nh c√¢y qu√° s√¢u g√¢y overfit tr√™n d·ªØ li·ªáu nh·ªè."
            }
          },
          "XGBClassifier": {
            "learning_rate": {
              "formula": "0.05 if n_samples > 10000 else 0.1",
              "description": "T·ªëc ƒë·ªô h·ªçc: d·ªØ li·ªáu l·ªõn ‚Üí learning_rate nh·ªè ƒë·ªÉ h·ªôi t·ª• m·ªãn."
            }
          }
        }
      }
    },
    "training_config": {
      "max_runtime_minutes": 60,
      "use_gpu": true,
      "verbose": true,
      "final_fit_on_full_data": true
    },

    "model_comparison": {
      "enabled": true,
      "strategy": "statistical_significance_test",
      "test": "wilcoxon_signed_rank_test",
      "alpha": 0.05,
      "selection_metric": "auto",
      "output_best_model": true,
      "generate_explanation": true,
      "explanation_template": {
        "winning_model": "M√¥ h√¨nh {model_name} ƒë·∫°t ƒëi·ªÉm {metric_name} = {score:.4f}, cao h∆°n ƒë√°ng k·ªÉ so v·ªõi c√°c m√¥ h√¨nh kh√°c (p-value < {alpha}).",
        "why_better": "‚Üí {model_name} v∆∞·ª£t tr·ªôi v√¨: {justification}.",
        "tradeoff_note": "üìå L∆∞u √Ω trade-off: {model_name} c√≥ th·ªÉ ch·∫≠m h∆°n {faster_model} ho·∫∑c kh√≥ gi·∫£i th√≠ch h∆°n {interpretable_model}.",
        "business_impact": "üí° ·ª®ng d·ª•ng kinh doanh: {model_name} gi√∫p {business_impact} ‚Äî ph√π h·ª£p v·ªõi m·ª•c ti√™u {business_goal}."
      },
      "business_goals": {
        "default": "t·ªëi ∆∞u h√≥a ƒë·ªô ch√≠nh x√°c d·ª± b√°o",
        "interpretability": "gi·∫£i th√≠ch ƒë∆∞·ª£c quy·∫øt ƒë·ªãnh m√¥ h√¨nh",
        "speed": "d·ª± b√°o nhanh, real-time",
        "cost": "gi·∫£m chi ph√≠ v·∫≠n h√†nh"
      }
    }
  },
  "model_evaluation": {
    "metrics": {
      "classification": [
        "accuracy",
        "precision",
        "recall",
        "f1_score",
        "roc_auc",
        "confusion_matrix",
        "precision_recall_auc",
        "log_loss"
      ],
      "regression": [
        "mae",
        "mse",
        "rmse",
        "r2_score",
        "mape",
        "rmsle",
        "max_error"
      ],
      "time_series": ["mae", "mse", "rmse", "mape", "smape", "mase", "mae_cv"],
      "clustering": [
        "silhouette_score",
        "davies_bouldin_index",
        "calinski_harabasz_score",
        "adjusted_rand_score"
      ]
    },
    "validation_strategy": "cross_validation",
    "threshold_metrics": {
      "min_accuracy": 0.7,
      "max_rmse": "auto",
      "min_auc": 0.8,
      "min_f1": 0.65
    },
    "advanced_evaluation": {
      "bias_variance_analysis": true,
      "learning_curves": true,
      "calibration_curves": true,
      "residual_analysis": true,
      "probabilistic_uncertainty": {
        "enabled": true,
        "method": "gaussian_process_regression",
        "confidence_interval": 0.95,
        "description": "∆Ø·ªõc l∆∞·ª£ng kho·∫£ng tin c·∫≠y cho d·ª± ƒëo√°n, d·ª±a tr√™n posterior distribution t·ª´ Bayesian Optimization."
      }
    },
    "model_comparison": {
      "enabled": true,
      "strategy": "statistical_significance_test",
      "test": "wilcoxon_signed_rank_test",
      "alpha": 0.05,
      "description": "So s√°nh hi·ªáu nƒÉng gi·ªØa c√°c m√¥ h√¨nh/c·∫•u h√¨nh ƒë·ªÉ ch·ªçn ra m√¥ h√¨nh t·ªët nh·∫•t m·ªôt c√°ch th·ªëng k√™."
    }
  },
  "model_interpretation": {
    "enabled": true,
    "methods": {
      "global": [
        "feature_importance",
        "permutation_importance",
        "partial_dependence_plots"
      ],
      "local": ["shap", "lime"],
      "surrogate_models": ["decision_tree_surrogate", "linear_model_surrogate"]
    },
    "output_format": ["plots", "tables", "interactive_dashboards"],
    "target_audience": ["technical", "business_stakeholders"]
  },
  "model_improvement": {
    "strategies": [
      "ensemble_learning",
      "hyperparameter_fine_tuning",
      "advanced_feature_engineering",
      "collect_more_data",
      "retrain_with_updated_data",
      "model_stacking",
      "error_analysis_and_correction"
    ],
    "automated": true,
    "max_iterations": 3,
    "improvement_threshold": 0.02
  },
  "model_deployment": {
    "target_environment": ["cloud", "on_premise", "edge"],
    "platforms": [
      "AWS SageMaker",
      "GCP AI Platform",
      "Azure ML",
      "Docker",
      "Kubernetes",
      "FastAPI"
    ],
    "serialization_format": ["pickle", "joblib", "onnx", "pmml"],
    "api_spec": {
      "framework": "FastAPI",
      "input_schema": "auto_generated_from_training_data",
      "output_schema": "prediction + confidence_score"
    },
    "monitoring": {
      "enabled": true,
      "metrics": [
        "prediction_drift",
        "data_drift",
        "model_performance_decay",
        "latency",
        "throughput"
      ],
      "alerting": ["email", "slack", "pagerduty"],
      "retraining_trigger": [
        "performance_drop > 5%",
        "data_drift_detected",
        "scheduled (monthly)"
      ]
    }
  },
  "communication_documentation": {
    "auto_generate": true,
    "sections": [
      "executive_summary",
      "data_understanding",
      "preprocessing_steps",
      "feature_engineering",
      "model_selection_justification",
      "hyperparameter_tuning_results",
      "evaluation_metrics",
      "model_interpretation_insights",
      "deployment_architecture",
      "monitoring_plan",
      "limitations_and_future_work"
    ],
    "output_formats": [
      "PDF_report",
      "HTML_dashboard",
      "PowerPoint_slides",
      "Markdown"
    ],
    "audience": [
      "data_scientists",
      "engineers",
      "business_leaders",
      "stakeholders"
    ],
    "visualization": true,
    "include_code_snippets": false
  }
}
